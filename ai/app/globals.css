@import 'tailwindcss';

@plugin "tailwindcss-animate";

/* 
 * @file globals.css
 * @description TribeAI global styles with dark-first theme
 * and purple/blue gradients matching the WWW design system.
 */

/* --- 1. THEME CONFIGURATION --- */

@theme {
  --color-tribe-bg-base: #000000;
  --color-tribe-bg-surface: #0a0a0a;
  --color-tribe-bg-elevated: #111111;
  --color-tribe-bg-card: rgba(255, 255, 255, 0.03);
  --color-tribe-bg-card-hover: rgba(255, 255, 255, 0.08);

  --color-tribe-text-primary: #f5f5f5;
  --color-tribe-text-secondary: #a1a1aa;
  --color-tribe-text-muted: #71717a;

  --color-tribe-primary: #3b82f6;
  --color-tribe-primary-hover: #2563eb;
  --color-tribe-secondary: #10b981;

  --color-tribe-border: rgba(255, 255, 255, 0.08);

  /* ShadCN mappings to Tribe Theme */
  --color-background: var(--color-tribe-bg-base);
  --color-foreground: var(--color-tribe-text-primary);

  --color-card: var(--color-tribe-bg-surface);
  --color-card-foreground: var(--color-tribe-text-primary);

  --color-popover: var(--color-tribe-bg-surface);
  --color-popover-foreground: var(--color-tribe-text-primary);

  --color-primary: var(--color-tribe-primary);
  --color-primary-foreground: #ffffff;

  --color-secondary: var(--color-tribe-bg-elevated);
  --color-secondary-foreground: var(--color-tribe-text-primary);

  --color-muted: var(--color-tribe-bg-elevated);
  --color-muted-foreground: var(--color-tribe-text-muted);

  --color-accent: var(--color-tribe-bg-card);
  --color-accent-foreground: var(--color-tribe-text-primary);

  --color-destructive: #ef4444;
  --color-destructive-foreground: #ffffff;

  --color-border: var(--color-tribe-border);
  --color-input: var(--color-tribe-bg-elevated);
  --color-ring: var(--color-tribe-primary);

  --radius-lg: 0.75rem;
  --radius-md: calc(0.75rem - 2px);
  --radius-sm: calc(0.75rem - 4px);
}

@layer base {
  :root {
    --tribe-bg-base: #000000;
    --tribe-bg-surface: #0a0a0a;
    --tribe-bg-elevated: #111111;
    --tribe-bg-card: rgba(255, 255, 255, 0.03);
    --tribe-text-primary: #f5f5f5;
    --tribe-text-secondary: #a1a1aa;
    --tribe-primary: #3b82f6;

    --background: var(--tribe-bg-base);
    --foreground: var(--tribe-text-primary);
  }

  * {
    @apply border-border;
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
  }

  *::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  *::-webkit-scrollbar-track {
    background: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
  }

  *::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    background: var(--tribe-bg-base);
    color: var(--tribe-text-primary);
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* --- 3. UTILITIES --- */

@layer utilities {
  /* Scrollbar Utilities */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Glass Effects - Clean */
  .glass-card {
    @apply bg-zinc-900/60 backdrop-blur-md border border-white/5 shadow-sm;
  }

  /* Accent Text - Standard Blue */
  .gradient-text {
    @apply text-blue-400 font-semibold;
  }

  /* Shadows - Subtle */
  .glow-blue,
  .glow-purple {
    box-shadow: 0 0 20px -5px rgba(59, 130, 246, 0.2);
  }
}

/* --- 4. ANIMATIONS --- */

@layer utilities {
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .animate-pulse-glow {
    animation: pulse-glow 3s ease-in-out infinite;
  }

  .animate-gradient {
    animation: gradient-shift 8s ease infinite;
    background-size: 200% 200%;
  }
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-10px);
  }
}

@keyframes pulse-glow {
  0%,
  100% {
    opacity: 0.6;
    box-shadow: 0 0 30px -10px rgba(59, 130, 246, 0.4);
  }

  50% {
    opacity: 1;
    box-shadow: 0 0 50px -10px rgba(59, 130, 246, 0.6);
  }
}

@keyframes gradient-shift {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

/* --- 5. CUSTOM SCROLLBAR --- */

.dark ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dark ::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
}

.dark ::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* --- 6. MARKDOWN PROSE STYLES FOR AI RESPONSES --- */

.markdown-content {
  @apply text-[15px] leading-[1.75];
}

/* Paragraphs */
.markdown-content p {
  @apply mb-4;
}

/* Links */
.markdown-content a {
  @apply text-blue-400 hover:text-blue-300 font-medium no-underline hover:underline underline-offset-4 transition-colors;
}

/* Bold text */
.markdown-content strong {
  @apply font-semibold text-white;
}

/* Italic/emphasis */
.markdown-content em {
  @apply text-zinc-300 italic;
}

/* Headings */
.markdown-content h1,
.markdown-content h2,
.markdown-content h3 {
  @apply font-bold text-white mt-6 mb-3;
}

.markdown-content h1 {
  @apply text-xl;
}

.markdown-content h2 {
  @apply text-lg;
}

.markdown-content h3 {
  @apply text-base;
}

/* Blockquotes */
.markdown-content blockquote {
  @apply border-l-4 border-blue-500 bg-blue-500/10 px-4 py-3 my-4 rounded-r-lg;
}

.markdown-content blockquote p {
  @apply mb-0 text-zinc-200 italic;
}

/* Inline code */
.markdown-content code {
  @apply bg-blue-500/15 text-blue-300 px-1.5 py-0.5 rounded text-[13px] font-mono;
}

/* Code blocks */
.markdown-content pre {
  @apply bg-zinc-900 border border-white/5 p-4 rounded-xl overflow-x-auto my-4;
}

.markdown-content pre code {
  @apply bg-transparent p-0 text-zinc-300;
}

/* Unordered lists */
.markdown-content ul {
  @apply my-4 pl-0 list-none space-y-2;
}

.markdown-content ul li {
  @apply relative pl-6 text-zinc-200;
}

.markdown-content ul li::before {
  content: '';
  @apply absolute left-0 top-[0.6em] w-1.5 h-1.5 bg-blue-400 rounded-full;
}

/* Ordered lists */
.markdown-content ol {
  @apply my-4 pl-0 list-none space-y-2;
  counter-reset: list-counter;
}

.markdown-content ol li {
  @apply relative pl-8 text-zinc-200;
  counter-increment: list-counter;
}

.markdown-content ol li::before {
  content: counter(list-counter) '.';
  @apply absolute left-0 text-blue-400 font-semibold;
}

/* Horizontal rules */
.markdown-content hr {
  @apply my-6 border-0 h-px bg-white/10;
}

/* Tables */
.markdown-content table {
  @apply w-full my-4 border-collapse;
}

.markdown-content th {
  @apply text-left font-semibold text-white bg-white/5 px-4 py-2 border-b border-white/10;
}

.markdown-content td {
  @apply px-4 py-2 border-b border-white/5 text-zinc-300;
}

/* Quote-style for titles in parentheses or quotes */

/* Headings H4-H6 */
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
  @apply font-semibold text-white mt-4 mb-2 text-sm;
}

/* Definition lists (dl, dt, dd) */
.markdown-content dl {
  @apply my-4;
}

.markdown-content dt {
  @apply font-semibold text-white mt-2;
}

.markdown-content dd {
  @apply ml-4 text-zinc-300 mb-2;
}
